00:04
Good
好的

00:07
Hello
你好

00:08
All of them
所有人

00:12
Good
好的

00:13
So welcome everyone to CS Five Thirty Seven
所以欢迎所有人来到cs five thirty seven

00:15
It was really great to see such an active class
看到如此活跃的班级真的非常棒

00:19
You all look happy today
你们今天看起来都很开心

00:21
See each other, here
看到彼此，在这里

00:22
I really hope that this enthusiasm will last throughout the semester
我真心希望这种热情能贯穿整个学期

00:26
So I think it's a great course
所以我认为这是一次很棒的课程

00:28
This is undoubtedly my favorite course to teach 500-level undergraduates
这无疑是我为五百级本科生教学的最喜欢的课程

00:34
I guess this is probably a course I only teach
我想这可能是我只教的课程

00:35
But I do think it's the best
但我确实认为它是最好的

00:37
You will learn a lot
你们将学到很多

00:38
You will do a lot of projects
你们将做很多项目

00:40
But you will really understand how the entire computer system works
但你们将真正理解整个计算机系统的工作方式

00:43
When you complete this course
当你们完成这门课程时

00:45
So today I want to start introducing myself a little bit
所以今天我想开始稍微介绍一下我自己

00:48
My name is Andrea Arachi Doso
我的名字是安德烈亚·阿拉奇·多索

00:50
I have been doing my PhD at UC Berkeley for a long time
我在加州大学伯克利获得了博士学位很久了

00:54
At that time I was working on implicit coordinated scheduling of parallel tasks
那时我在研究并行任务的隐式协调调度

00:59
So I did a lot of work on scheduling
所以我在调度方面做了很多工作

01:01
And then
然后

01:02
I had a very short post-doctoral fellowship at Stanford
我在斯坦福有过一个非常短的后博士研究

01:05
While my husband was waiting to finish his PhD
在我丈夫完成博士学位等待期间

01:08
So I had to wait a while
所以我不得不等待一段时间

01:10
There, I'm actually there to teach you to know
在那里，我实际上在那里教给你们知道

01:15
I refined it there before Stanford students tried these
在斯坦福学生尝试这些之前，我先在那里完善它

01:17
So that I can do better for all of you, right here in Wisconsin
这样我就能为你们所有人做得更好，而在威斯康星这里

01:22
我主要教cs five three seven
我主要教cs five three seven

01:24
I still teach 736
我还教七三六

01:25
This is a graduate advanced operating system course
这是研究生高级操作系统课程

01:28
Then, sometimes I also teach distributed operating systems
然后，有时我还教分布式操作系统

01:31
Another interesting course is CS 402, which I teach occasionally
另一个有趣的课程是我偶尔教的cs四零二

01:36
You may have heard of it
你可能听说过

01:36
It is a service-learning course
它是服务学习课程

01:38
We teach you how to teach 4th and 5th graders about programming and computer science
我们教您如何教第四和五年级的学生关于编程和计算机科学

01:44
So, if you have a schedule and want to change the pace
所以，如果你有时间表，想要改变节奏

01:47
This is very different from this course
这与这门课程非常不同

01:49
But I encourage you to take a look at CS 402 at some point here
但我鼓励你在这里某个时候看看cs四零二

01:53
I spent a lot of time researching
我花了很多时间在研究上

01:56
I mentor many master's and doctoral degree students
我指导许多硕士和博士学位的学生

01:59
My colleague Ramsey
我的同事拉姆西

02:01
So far, I have co-mentored two five PhD students
到目前为止，我已经共同指导了两个五博士学位的学生

02:04
They are primarily working on file and storage systems
他们主要是在文件和存储系统研究

02:07
So I'm very active in the OS research community
所以我在操作系统研究社区非常活跃

02:12
Our main operating systems conference last year, then last year
我们去年的主要操作系统会议，然后是去年

02:16
Ramsey
拉姆西

02:16
My colleagues and husband
我的同事和丈夫

02:18
And I won the APA Prescott Weiser Award for our work in storage systems
而且我因为我们在存储系统中的工作赢得了阿帕网普雷斯科特·魏泽奖

02:22
That's the top award for people in the system space
那是系统领域人们的顶级奖项

02:26
So I guess I'm doing pretty well now
所以我猜我现在做得还不错

02:28
And from here it will plummet
而且从这里开始将会一落千丈

02:31
All right
好吧

02:32
Good
好的

02:32
So what should I call you?
那么我应该叫你什么

02:34
I still really like the title of professor
我还是真的很喜欢那个教授的称号

02:36
It makes me really happy
它让我真的很开心

02:37
So
所以

02:38
If you call me a professor
如果你叫我教授

02:39
Andrea
安德烈亚

02:39
I like that
我喜欢那样

02:40
If you call me a professor
如果你叫我教授

02:40
Do it that way
那样做

02:41
That will work
那样会行

02:42
Teaching Apache is not unique in doing so
教授Apache那样做并不独特

02:44
But the professor did that
但是教授那样做

02:45
That would recognize me
那样会识别我

02:47
Because that's what I used to do
因为我以前就是这样做的

02:48
We used hyphens to call our Apache server
我们使用了连字符来称呼我们的Apache服务器

02:50
But if you don't like to use those terms
但如果你不喜欢使用那些术语

02:51
Just call me Andrea
就叫我安德烈亚

02:53
Don't call me Miss or Mrs
不叫我小姐或太太

02:55
Or something like that
或者类似的

02:56
Is it the professor or my name?
是教授还是我的名字

03:00
Good
好的

03:00
So what are we going to do today
那么今天我们要做什么

03:01
I'll start with something very practical
我将从非常实用的东西开始

03:03
all
所有的

03:04
What exactly do you plan to do?
你具体打算做什么

03:06
Then I will delve deeper into the motivations of the operating system
然后我会更深入地探讨操作系统的动机

03:09
What is its role
它的角色是什么

03:11
Why do you want to take this course?
你为什么想要参加这门课程

03:15
Good
好的

03:15
So the details
所以细节

03:17
So what you will know when you complete this course
所以你完成这门课程时会知道什么

03:20
So you will know what the operating system is
所以你会知道操作系统是什么

03:23
What is the role it plays in the system
它在系统中扮演的角色是什么

03:25
You will understand how the operating system virtualizes all these different physical resources
你会理解操作系统如何虚拟所有这些不同物理资源

03:29
Just like memory, CPU and hard drive
就像内存、CPU和硬盘一样

03:32
and provide abstraction of user-level applications for these resources
并为这些资源提供用户级应用程序的抽象

03:37
After understanding today's architecture, you will understand how to implement these abstractions
在了解今天的架构后，你将理解如何实现这些抽象

03:42
Based on their hardware
基于他们的硬件

03:43
Well
嗯

03:44
We will do a lot of work with multi-threaded applications
我们将与多线程应用程序做很多工作

03:46
You'll learn how to use these different synchronization primitives correctly
你将学习如何正确地使用这些不同的同步原语

03:49
Such as many locks, conditional variables, and semaphores
如很多锁、条件变量和信号量

03:54
You will learn how we make information persistent through file systems
你将学习我们如何通过文件系统使信息持久

03:58
Even if we may experience a crash or power failure at any time at any dead pixel
即使我们可能在任何时间的任意坏点遇到崩溃或电源故障

04:04
You're going to be doing a lot of C programming projects
你将要做很多C编程项目

04:07
These may not be as clearly defined as they used to be
这些可能不像过去那样明确定义

04:10
I mean have a clear specification
我的意思是有一个明确的规格

04:12
There are some things that you definitely have to be completely correct and have precise output
有一些东西你肯定必须完全正确，并且有精确的输出

04:16
But we may not walk you through the process
但我们可能不会引导你通过这个过程

04:18
Not like you are used to from other courses
不像你从其他课程中习惯的那样

04:20
And some of the projects you work on are done by yourself, and some are collaborated with partners
并且你工作的项目中有一些是你自己完成的，有一些是与伙伴合作的

04:25
Finally, most of your project will use existing system calls
最后，你的大部分项目都将使用现有的系统调用

04:30
in existing operating systems
在现有的操作系统中

04:32
Or this xv6
或者是这个xv6

04:35
This is a small kernel
这是一个小的内核

04:37
We emulate it and you can modify this kernel operating system
我们模拟它，你可以修改这个内核操作系统

04:41
And see what this infrastructure looks like
并看看这种基础设施看起来什么样子

04:44
So in this course, you will have to do a lot
所以在这个课程中，你将要做很多事情

04:47
It is not an easy course
这不是一个容易的课程

04:48
It is not a course you should choose when you are overwhelmed with schoolwork
它不是你应该在课业负担重的时候选择的课程

04:52
You should be able to devote a significant amount of time to this course
你应该能够投入大量的时间在这个课程中

04:55
Good
好的

04:55
So I think I want all of you to know, when you go into this course
所以我想我希望你们所有人都知道，进入这个课程时

04:58
It is not an easy course
这不是一个容易的课程

04:59
If you have a difficult semester
如果你有一个困难的学期

05:01
There are a lot of people on the waiting list
有很多人在等待名单上

05:03
They want it very much
他们非常想要

05:03
If you abandon the course
如果你放弃课程

05:05
You know that the sooner you drop a course
你知道你越早放弃课程

05:06
The happier I am
就越高兴

05:07
Everyone will
每个人都会

05:08
They will get a seat
他们会得到一个座位

05:09
You will feel relieved
你会感到解脱

05:10
You can take this course again next semester
你可以在下个学期再选这门课程

05:12
Well
嗯

05:13
However, no matter which semester you choose, the workload is significant
但是，无论你在哪个学期选，工作量都很大

05:14
The workload will be high every semester
工作量都会在每个学期都很大

05:15
Good
好的

05:17
So what are we actually doing here
所以我们在这里实际上在做什么

05:18
Your grade will be based on two things that you can consider as lecture content
你的成绩将基于两个东西，你可以把它视为讲座内容

05:20
and these projects, so the lecture content
和这些项目，所以讲座内容

05:24
We will have two midterm exams at the end
我们将有两个中期考试在期末

05:29
I like to have two midterm exams instead of just one
我喜欢有两个中期考试，而不是只有一个

05:31
Because I think this will reduce the pressure and stakes of each exam
因为我认为这样可以降低每个考试的压力和赌注

05:34
So, if you don't perform well on an exam
所以，如果你在一个考试中表现不好

05:37
It doesn't have that much of an impact on your overall grade
它对你的总成绩影响并不那么大

05:38
And it keeps you motivated and focused to work on the material at a more steady pace than if there are fewer exams
并且它保持你的动力和专注，以便以更稳定的速度处理材料，而不是如果有更少的考试

05:41
yes
是的

05:44
yes
是的

05:50
yes
是的

05:50
yes
是的

05:51
yes
是的

05:51
We have to run these massive multiple-choice exams now because they have so many of you
我们现在必须运行这些大规模的多选题考试，因为它们有你们这么多人

05:54
因为 there's so many of you
因为 there's so many of you

05:55
But we're already pretty good at making those multiple-choice exams
但是我们已经相当擅长制作那些多选题考试

05:58
These exams will only cover the concepts we discuss in class
这些考试只会覆盖我们在课堂上讨论的概念

06:02
We may have some homework, and that's part of that fifty percent
我们可能会有一些作业，那是那百分之五十的一部分

06:06
I never figured out how to do that
我一直没弄清楚如何做那个

06:08
I always think that maybe this semester we will start having homework
我总是想也许这个学期我们会开始有作业

06:10
But it hasn't happened yet
但到现在还没有发生

06:11
But maybe it will
但可能它会

06:12
But one thing I want to start this semester is to encourage all of you to form study groups
但这个学期我想开始的一件事是鼓励你们所有人组成学习小组

06:17
So for some reason, I have always encouraged graduate students to form study groups in graduate programs
所以出于某种原因，我一直鼓励研究生在研究生课程中组成学习小组

06:21
So that they can discuss the material and meet more people
以便他们可以讨论材料并认识更多的人

06:24
But I never thought about it
但我从未想过

06:26
Perhaps undergraduates can also benefit from this
也许本科生也能从这中也受益

06:28
I talked about some undergraduates
我谈了一些本科生

06:29
They said
他们说

06:29
yes
是的

06:29
We love discussing material with our peers
我们喜欢与我们的同龄人讨论材料

06:32
So I will encourage everyone to form a study group of five other people
所以我将鼓励每个人都组成一个由其他五个人组成的学习小组

06:37
This is not part of your grade
这并不是你成绩的一部分

06:40
Maybe just extra points
也许只是额外的分数

06:42
But you're talking to someone who is being discussed in the lecture content
但你在与讲座内容讨论的人交谈

06:47
Because I think it's easy to just focus on the project
因为我认为只专注于项目是很容易的

06:50
But you know that projects account for fifty percent of your grade
但你知道项目占你成绩的百分之五十

06:53
The content of the lectures accounted for the other 50%
而讲座内容占另百分之五十

06:55
So don't forget about the lecture content
所以不要忘记讲座内容

06:57
Okay, project
好的，项目

06:58
So hmm
所以嗯

07:00
We have eight programming projects in this course
我们在这门课程中有八个编程项目

07:02
This is the same every semester
这与每个学期都一样

07:04
Although in the past we would occasionally call it five
尽管过去我们偶尔会称其为五

07:07
Then we would say there are things like A and B
然后我们会说有像a和b这样的

07:11
There are like 2a and 2b
有像2a和2b这样的

07:13
We have a very strange number
我们有一个非常奇怪的编号

07:14
So, let's be honest
所以，说实话

07:15
There are indeed eight projects
确实有八个项目

07:18
The idea here is that you will learn how to modify the operating system
这里的想法是你将学习如何修改操作系统

07:21
You will learn how to use the operating system
你将学习如何使用操作系统

07:23
and enjoy the projects
并享受这些项目

07:27
Good
好的

07:27
You're in class right now
你现在在课堂上

07:29
So you know where the lecture time is held
所以你知道讲座的时间在哪里举行

07:31
And I will provide these formal slides here
以及我在这里将提供这些正式的幻灯片

07:35
Although I would certainly like it
尽管我当然会喜欢

07:36
When you all ask questions
当你们都提问时

07:38
I'll ask you some questions
我会问你们一些问题

07:39
Usually some basic questions
通常是一些基本的问题

07:41
Just to make sure you understand
只是为了确保你理解

07:43
Then make sure you know they have quantitatively clear answers
然后确保你知道他们有定量的明确答案

07:47
Just to make sure you're following up on what's going on
只是为了确保你在跟进发生了什么

07:50
So you will have readings that match these lectures
所以你会有与这些讲座相匹配的阅读

07:51
Every lecture has these
每个讲座都有这些

07:52
We will point that out in the textbook
我们将在教科书中指出那个位置

07:54
Bara Ba Ba Ba Ba La
巴拉巴拉巴拉

07:55
Good
好的

07:56
Then the rest of this course
然后这门课程的其他部分

07:59
As you know, you have all signed up for the discussion class
正如你们所知，你们都已经报名参加了讨论课

08:02
The concept of a discussion class is to have all of you in a small group
讨论课的概念是让你们所有人都在一个小组中

08:05
There you can discuss the project
在那里你们可以讨论项目

08:07
And have some experience like seeing the code with your own hands
并拥有一些像亲手查看代码的经验

08:11
So, the idea is that those will be led by teachers
所以，想法是那些将由教师领导

08:13
And you should usually bring your laptop to the discussion class
并且你们通常应该带笔记本电脑去讨论课

08:17
They may review the project and let you answer questions
他们可能会审查项目并让你们回答问题

08:20
And go through those things roughly
并大致浏览那些东西

08:21
Or maybe hold a review session there before the midterm exam
或者可能在期中考试前在那里举行一次复习会

08:24
So those will be more flexible and we will see what happens in the discussion session there
所以那些将更加灵活，我们将在那里看到讨论课会发生什么

08:28
yes
是的

08:29
My original goal was
我原来的目标是

08:30
If possible
如果可能的话

08:31
If we could have twenty students in the discussion class
如果我们能在讨论课中有二十名学生

08:34
But in each discussion class you have seventy people
但在每个讨论课中你们有七十人

08:36
So they weren't the kind of small classroom environments I had hoped for
所以它们并不是我原来希望的那种小教室环境

08:42
Good
好的

08:43
We have a lot of people who can help you in this class
我们在这门课上有很多可以帮助你们的人

08:45
Good
好的

08:46
So look how many people there are
所以看看有多少人

08:48
We have seven teaching assistants
我们有七个教学助理

08:50
They are both graduate students in the computer science department
他们都是计算机科学部门的研究生

08:53
Most of them are interested in the system
他们大多数对系统感兴趣

08:55
They love this kind of thing
他们喜欢这种东西

08:57
They will be very able to help you
他们将非常能够帮助你们

08:59
Peer mentors
同伴导师

09:00
They are students like you who completed 537 last fall semester
他们是像你们一样的学生，去年秋季学期修了537

09:04
They did a great job
他们做得很好

09:05
They want to do it
他们想要这样做

09:06
So they both have a lot of lab time
所以他们都有很多实验室时间

09:09
They are in the teaching laboratory
他们在教学实验室里

09:11
If you have a problem
如果你有问题

09:13
They will help you solve the code and understand the project
他们将帮助你们解决代码和理解项目

09:16
Some of them will help with all the discussion classes
一些他们将帮助所有的讨论课

09:20
But mainly they answer your questions on Piazza
但主要是他们在Piazza上回答你们的问题

09:23
And then, all that lab time, you can go there and work with them through your code
然后，所有这些实验室时间，你可以去那里与他们一起工作通过你们的代码

09:27
So I encourage you to consider becoming a peer mentor next semester
所以我鼓励你们考虑在下个学期成为同伴导师

09:31
If you become a student who really likes this
如果你成为的学生真的很喜欢这个

09:33
You will be the next group of future peer mentors
你将是未来同伴导师的下一组

09:36
Yes, maybe some of you recognize the names on that list
对，也许你们中一些人认出了那名单上的名字

09:39
They are your classmates
他们是你们的同学

09:41
Many or some of them were their 354 peer tutors in the previous semester
很多或一些是他们在上个学期的三五四同伴导师

09:45
They love being peer mentors
他们喜欢做同伴导师

09:46
So they want to keep doing that
所以他们想要继续做那个

09:49
Okay, okay
好的，好的

09:51
Let's start looking at some links
让我们开始看一些链接

09:54
Let's take a look at Candace
让我们来看看坎迪斯

10:01
Great, this shows
太好了，这显示出来

10:04
Good
好的

10:06
Good
好的

10:06
So on the canvas
所以在画布上

10:07
This is what a web page looks like
这就是网页看起来的样子

10:10
I had never used canvas in this course before
我之前在这门课程中从未使用过画布

10:12
I'm not a good canvas web designer
我不是一个很好的画布网页设计师

10:15
So it looks very, very boring
所以看起来非常非常无聊

10:17
We have a lot of silhouettes
我们有很多轮廓

10:18
The material there
那里的材料

10:19
But it doesn't look particularly fantastic
但它看起来并不特别棒

10:22
Good
好的

10:23
So here is what you can find
所以这里你能找到什么

10:24
If you haven't seen it yet
如果你还没有看

10:25
Overview and prerequisites
概述和先决条件

10:27
It's quite straightforward
这相当直接

10:30
Well
嗯

10:31
Our schedule
我们的日程

10:33
You'll see what we're going to talk about each week
你会看到我们每周要讨论的内容

10:37
I'll talk about this
我会谈论这个

10:38
Cover our content
覆盖我们的内容

10:41
Then after class I will post the slides we discussed there
然后课后我会在那里发布我们讨论过的幻灯片

10:46
Well, the material
嗯，材料

10:49
You should check out some basic information on this page about what to review and see
你应该在这个页面上查看一些关于需要复习和看到的基本信息

10:53
Have a good review
有一个很好的复习

10:55
lecture
讲座

10:55
Discussion section
讨论部分

10:56
Discuss C and what you might want to do there
讨论C和您可能在那里想做的事情

10:59
So the recording of these discussion sections is especially useful
所以这些讨论部分的录音视频特别有用

11:05
Because when a person walks through the code
因为当人走过代码时

11:08
That's when videos are most useful
那时视频最有用

11:11
You can stop that
你可以停止那个

11:12
You can kind of browse the code until that point
你可以 kind of 浏览代码直到那个点

11:14
Then when they catch up with you, you can continue
然后当他们赶上你时，你可以继续

11:16
So I'm a big proponent of video watching code
所以我是视频看代码的强烈支持者

11:20
But I'm not interested in using videos instead of lectures
但我对使用视频代替讲座不感兴趣

11:25
But we'll get to that later
但我们稍后会讨论这个问题

11:28
Good
好的

11:28
This tells you something about C
这告诉你关于C的东西

11:31
It also tells you about the book we use here
它也告诉你我们在这里使用的书

11:36
This is a book that closely matches our curriculum
这是一本与我们课程紧密匹配的书

11:39
Ramsay and I wrote it together
拉姆齐和我一起编写的

11:41
Although when you read
尽管当你阅读时

11:42
You will notice that it is mainly his voice
你会注意到它主要是他的声音

11:44
He is a very interesting person
他是一个非常有趣的人

11:47
I'm a very similar person
我是一个非常像

11:48
Five things we need to know
我们需要知道的五件事

11:50
So I gave it some structure
所以我给它了一些结构

11:52
Then he made it fun to read
然后他使它变得阅读有趣

11:54
That's it
就是这样

11:55
If you find this book interesting
如果你发现这本书有趣

11:56
That's because of him
那是因为他

11:57
If you find it well organized
如果你发现它组织得很好

11:59
Then you can say maybe I have some contributions
那么你可以说也许我有一些贡献

12:02
But maybe hmm
但是也许嗯

12:07
So you can get all the individual PDFs completely free of charge
所以你可以完全免费获取所有单独的pdf

12:11
But if you want a printed copy of the book
但如果你想要这本书的打印副本

12:13
Or you want a pdf with all the chapters
或者你想要一个包含所有章节的pdf

12:15
Then you can get it there for a tip
那么你可以在那里以小费获取它

12:18
Good
好的

12:18
The book is necessary in some form
这本书以某种形式是必需的

12:21
You better read it
你最好进行阅读

12:22
If you wish to understand the situation here
如果你希望理解这里的情况

12:26
Good
好的

12:26
We have a large number of mentors and pyramid mentors
我们有大量的导师和金字塔导师

12:29
As I said
正如我所说

12:29
You can see all their beautiful photos here
你可以在这里查看所有他们的漂亮照片

12:32
If you want
如果你愿意

12:33
So
所以

12:33
You can find out who is who
你可以找出谁是谁

12:36
If you want to go to the lab office time
如果你想去实验室办公室时间

12:40
So we will have the most people every day
所以我们每天都会有最多的人

12:42
Basically from ten in the morning to ten in the evening
基本上从早上十点到晚上十点

12:45
I don't think it's entirely consistent
我认为这不完全一致

12:48
But we try to have a lot
但我们尽力有很多

12:49
The way it works is:
它的工作方式是

12:50
You are sitting in the lab
你坐在实验室

12:51
You fill out this form
你填写这个表格

12:52
You say which machine you are sitting on and what are your general problems
你说你在哪个机器上坐着，你的一般问题是什么

12:57
Someone should come and talk to you in the lab
实验室应该有人来和你谈话

13:00
That's what we hope will happen
这就是我们希望的会发生的事情

13:03
Our lab hours will then be available on this calendar
然后，我们的实验室时间将在这个日历上可用

13:07
So you can see that we have some lab time starting today
所以你可以看到我们从今天开始有一些实验室时间

13:09
They won't have too many mentors and pyramid mentors out there
他们不会有太多的导师和金字塔导师在那里

13:12
Because I don't believe you will have a lot of questions
因为我不相信你会有很多问题

13:14
I will make the first project available
我将第一个项目可用

13:16
If you feel rusty and worried about C
如果你感到生疏和担心C

13:20
Please get started as soon as possible
请尽快开始

13:23
Because I think this project should look like
因为我认为这个项目应该像

13:25
It is checking your previous knowledge
它在检查你以前的知识

13:27
It's very straightforward
它非常直接

13:28
So if you have any difficulties
所以如果你有任何困难

13:30
You really need to invest some time to cover those things
你真的需要投入一些时间来覆盖那些东西

13:34
Lab time at the beginning will be very empty
开始的实验室时间将非常空

13:36
The mentors will be happy and excited to talk to you
导师们将很高兴和兴奋与你交谈

13:39
and explain pointer and memory allocation
并解释指针和内存分配

13:41
If you ask these questions at the last minute
如果你在最后一刻问这些问题

13:43
You won't be too happy with the mentors
你不会对导师们太满意

13:46
If you think you need more time, do those things sooner
如果你认为需要更多的时间，那就早点做那些事情

13:52
Good
好的

13:53
What am I looking at now
我现在在看什么

13:57
What else is here
这里还有什么

13:58
Oh, and the projects are good
哦，项目都不错

14:00
I love the project
我喜欢项目

14:01
Good
好的

14:02
So our project
所以我们的项目

14:02
These are all written in C and will be published here
这些都是用C写的，并将在这里发布

14:06
The first one is already available
第一个已经可用了

14:08
As we said in the discussion section next Wednesday
正如我们在下周三讨论部分的所说

14:13
The quest will discuss this in detail
任务将详细讨论这个

14:16
Well
嗯

14:16
But if you think it's hard for you
但如果你认为这对你来说很难

14:18
You know, definitely check this out before Wednesday
你知道，肯定在周三之前看看这个

14:21
Then it will expire after next Monday
然后它将在下周一后到期

14:23
Then the project expires in about a week
然后项目大约在一周后到期

14:26
From that point on, it expires every week
从那一点起，每周都会到期

14:28
There is some flexibility during midterm exams
在中期考试期间有一些弹性

14:30
So we sometimes have two items for you to choose from
所以我们有时会有两个项目可供您选择

14:32
So that you can view them
以便您可以查看它们

14:34
Because some will be more difficult than if you were to complete it in a few days
因为有些会比您几天内完成更难

14:38
Good
好的

14:38
This first project is basically doing a lot of documentation
这个第一个项目基本上就是做很多文件

14:42
I deal more with it from the user level
我更多地是从用户层面处理

14:44
It's easy to see things
很容易看到东西

14:47
Good
好的

14:48
There are other things here
这里还有其他东西

14:51
You will see our Academic Integrity Policy
您将看到我们的学术诚信政策

14:54
I'll discuss that at the exam
我会在考试时讨论那个

14:56
As I said
正如我所说

14:57
We will have two midterm exams and a final exam
我们将有两个中期考试和一个期末考试

14:59
I am very picky about exam conflicts
我对考试冲突非常挑剔

15:01
Because it is a large class
因为它是大班

15:02
You need to do something very strict
你需要做一种非常严格的事情

15:05
If you have conflicts
如果您有冲突

15:07
Show me your schedule
给我看您的日程表

15:08
Show me all these official documents
给我看所有这些官方文件

15:09
So that we can arrange another room for you
以便我们可以为您安排另一个房间

15:12
But that's boring
但那很无聊

15:14
So I think we've finished looking at the canvas, great
所以我认为我们已经完成了对画布的查看，很棒

15:22
You should know that we are using Piazza this semester
你应该都知道，我们这学期正在使用Piazza

15:36
So, please
所以，请

15:39
So, sign up for any content on the Piazza website you need to visit
所以，请注册您需要访问的Piazza网站的任何内容

15:44
It's really great
真的很棒

15:45
We have so many TAs and peer mentors
我们有这么多TA和同伴导师

15:48
If someone asks a question
如果有人提出问题

15:49
I think
我想

15:50
oh
哦

15:50
I am happy to answer the first question
我很高兴回答第一个问题

15:52
And two of my peer mentors have already answered this question
并且我的两位同行导师已经回答了这个问题

15:54
So I think we're going to have a very good team
所以我认为我们将有一个非常优秀的团队

15:57
This will help you
这将能够帮助你

15:58
And being able to respond quickly to your questions, there is one thing
并且能够快速响应你提出的问题，有一个事情

16:01
For a very short period of time, I had five square page associations
有一段非常短的时间，我有五个三七的广场页面关联

16:06
Because I'm trying
因为我在尝试

16:07
I didn't know that the system would automatically create one
我不知道系统会自动创建一个

16:10
So I see like nine people have signed up but found the wrong one
所以我看到像九个人已经注册了，但找到了错误的一个

16:14
So I set that page to inactive
所以我把那个页面设置为不活跃

16:16
So if you find that the pages you see become inactive
所以如果你发现你看到的页面变得不活跃

16:18
That's what happened
那就是发生了什么

16:19
Find the real one
找真正的一个

16:21
Okay, okay
好的，好的

16:23
This is our text book
这是我们的文本书

16:26
Good
好的

16:26
Academic integrity
学术诚信

16:28
Here you will do a lot of programming
在这里你会做很多编程

16:31
And students often feel stressed, deadlines come and people become unhappy
而且学生经常感到很压力，截止日期来临，人们会变得不快乐

16:36
They will become desperate
他们会变得绝望

16:37
So in many CS courses, it is common for students to borrow code from other students
所以在许多cs课程中，学生从其他学生借代码是很常见的

16:46
Or look up previous years to find solutions online
或者查找以前的年份在线找到解决方案

16:50
We definitely see a lot
我们肯定看到很多

16:51
Especially since their projects are related to previous semesters
尤其是因为他们的项目与以前的学期有关

16:55
They are not exactly the same
它们并不完全相同

16:56
But they are similar
但它们相似

16:57
So we run
所以我们运行

16:59
I'm particularly passionate about it
我对此特别热衷

17:02
We run these automated tools that look for similarities in your code with other students
我们运行这些自动工具，它们查找你代码与其他学生的相似性

17:07
and the code for the whole class
以及全班学生的代码

17:09
I can see how your code compares to other students
我可以看看你的代码与其他学生的比较

17:10
Also includes previous semesters
也包括以前的学期

17:13
Although it takes more time
虽然这需要更多的时间

17:14
Just more computing time somewhere
只是更多的计算时间在某个地方

17:15
And these tools are very sophisticated in terms of looking at the inner workings of things
而且这些工具在查看事物的内部结构方面非常复杂

17:18
You know
你知道

17:22
It completely ignores how you structure something and the name you use
它完全忽视了你如何结构化某些东西和你使用的名称

17:23
So, we're pretty good at finding similar code
所以，我们非常擅长找到相似的代码

17:26
We will complete this task soon
我们将很快完成这个任务

17:28
And you won't get credit for any code that looks like a copy
而且你将不会因任何看起来像复制的代码而获得信用

17:30
So
所以

17:32
Be sure not to copy the code
请务必不抄袭代码

17:36
We will definitely find out that you plagiarized
我们肯定会发现你抄袭了

17:36
You will be very upset that you did this
你将非常不高兴你做了这件事

17:37
Good
好的

17:38
Of course, please do not plagiarize the code
当然，请不要抄袭代码

17:40
We will find out that you plagiarized
我们将发现你抄袭了

17:43
Good
好的

17:45
Good
好的

17:46
Good
好的

17:46
So I think that's all there is to it
所以我认为这就是所有的

17:50
The mechanics of things
事物的力学

17:52
So now I'm going to change the subject completely and talk about why this is an interesting topic
所以现在我要完全改变话题，谈谈为什么这是一个有趣的主题

17:58
And why we all want to do it
以及我们为什么都想做这件事

18:00
So that's what we're talking about today
所以这是今天的内容

18:02
What is the operating system?
操作系统是什么

18:04
I think we all have an intuitive feeling of knowing what the operating system is
我想我们都有一种直觉的感觉，知道操作系统是什么

18:09
Because we already use many different operating systems
因为我们已经使用了许多不同的操作系统

18:11
You can define anything the operating system does for these things
你可以定义操作系统为这些事物所做的任何事情

18:15
These are undoubtedly some general-purpose operating systems that work on laptops
这些无疑是一些通用目的的操作系统，可以在笔记本电脑上工作

18:22
Or um
或者嗯

18:23
Desktop-based machines
基于桌面的机器

18:25
That's the main thing we're going to talk about here
这就是我们在这里要谈论的主要内容

18:27
We will not discuss
我们不会讨论

18:29
Designed for mobile devices or real-time embedded things
是为移动设备或实时嵌入式事物设计的

18:33
That kind of thing
那种东西

18:34
Good
好的

18:35
Another way to define an operating system is to look at the stack
另一种定义操作系统的方法是看堆栈

18:39
That way we know other things in the stack
这样我们就知道堆栈中的其他事物

18:42
Of course we all know what a user is
当然我们都知道用户是什么

18:44
They are human
他们是人类

18:45
I won't talk about humans in this class
我不会在这堂课上谈论人类

18:48
But they are the top entities of our stack
但他们是我们堆栈的顶部实体

18:51
Users use the app
用户使用应用程序

18:53
We all know what an app is
我们都知道应用程序是什么

18:55
They are something that users really care about
它们是用户真正关心的东西

18:58
Whether it's their web browser or a game or whatever
无论是他们的网页浏览器还是游戏还是什么

19:01
Then we know what the bottom of the stack is
然后我们知道堆栈的底部是什么

19:04
hardware
硬件

19:05
The resources to be managed by the operating system
操作系统要管理的资源

19:08
Our memory
我们的内存

19:09
Our CPU
我们的CPU

19:10
Our storage devices
我们的存储设备

19:12
So the operating system is actually software that sits in between
所以操作系统实际上是位于这两者之间的软件

19:16
We can say:
我们可以说

19:16
It is software that converts hardware into something more useful for applications
它是将硬件转换为对应用程序更有用的东西的软件

19:22
Because in the old days, we could run applications directly on the hardware
因为在旧时代，我们可以直接运行应用程序在硬件上

19:27
But there are many advantages of inserting a shared layer between the hardware and them
但是有许多在硬件和它们之间插入一层共享层的优势

19:31
So it's software that converts hardware into something more useful for those applications
所以它是将硬件转换为对那些应用程序更有用的东西的软件

19:37
So there are two key rules of the operating system that need to be met
所以操作系统有两个关键规则需要满足

19:41
So its first role is to provide standard libraries
所以它的第一个角色是提供标准库

19:45
So it provides a hardware resource abstraction that is easier to use than the interface that hardware originally provides
所以它提供了一个比硬件最初提供的接口更容易使用的硬件资源抽象

19:49
So what is a resource
所以什么是资源

19:54
It is anything of value
它是任何有价值的东西

19:56
It is all the hardware in the system
它是系统中的所有硬件

19:57
So the responsibility of the operating system is to provide an abstraction for each resource
所以操作系统的责任是来为每个资源提供一个抽象

19:59
So for each resource
所以对于每个资源

20:03
The operating system will provide an abstraction
操作系统将提供一个抽象

20:05
For CPU
对于CPU

20:06
The CPU abstraction provided by the operating system will be a process or thread
操作系统提供的CPU抽象将是进程或线程

20:10
We will talk about a lot of these things in this class
我们将在这堂课上谈论很多这些东西

20:12
So now I'm using the terminology casually
所以现在我正在随意使用术语

20:14
We'll make all of these things very specific later
稍后我们将使所有这些东西变得非常具体

20:17
The memory abstraction provided by the operating system as an address space
操作系统提供的内存抽象，作为地址空间

20:21
Then, for the abstraction of the hard drive
然后，对于硬盘的抽象

20:23
Or any type of persistent media that we have, usually the files are there
或者我们拥有的任何类型的持久媒体，通常是文件在那里

20:27
But you can have a key-value store or database
但你可以有一个键值存储或数据库

20:30
Also as abstraction
也作为抽象

20:32
If you really want to
如果你真的想要

20:34
Good
好的

20:35
So these are typical
所以这些都是典型的

20:37
So why should the operating system provide this standard library?
那么，操作系统为什么应该提供这个标准库呢

20:42
So, its main advantage is ease of use
所以，它的主要优点就是使用方便

20:43
Well
嗯

20:45
We don't want every app to have to rewrite the same functionality
我们不想让每个应用都要重新编写相同的功能

20:48
We don't want every app to write its own memory allocator
我们不想让每个应用都要自己编写内存分配器

20:52
For example
例如

20:53
Well
嗯

20:54
We want to make all the different devices look the same
我们想要使所有不同设备看起来都一样

20:57
Usually, there are many
通常，有很多

20:59
In assembly languages, you need to do a lot of low-level code
在汇编语言中，你需要做很多底层的代码

21:03
Handle different devices and different device drivers
处理不同设备和不同设备驱动程序

21:06
We want to abstract all of that
我们想要抽象掉所有这些

21:07
This way the application doesn't have to deal with these
这样应用程序就不必处理这些

21:10
Then we can usually offer higher capabilities than low-level devices
然后我们通常可以提供比低级设备更高的功能

21:16
Just like a hard drive, low-level devices only provide blocks that can be read, written, or deleted
就像硬盘的低级设备只提供可以读写或删除的块

21:22
The operating system will raise this level of abstraction
操作系统将提高这一层次的抽象

21:24
And give the application the concept of the entire file or directory
并给应用程序提供整个文件或目录的概念

21:29
So it offers all these extra features on top of low-level devices
所以它在低级设备之上提供了所有这些额外的功能

21:35
Good
好的

21:35
So there will be many challenges and interesting things to discuss there
所以那里将有许多挑战和有趣的事情要讨论

21:39
We have to really figure out what kind of abstraction we should provide
我们必须真正弄清楚应该提供什么样的抽象

21:43
Then, like how the power of the hardware should be exposed
然后，像应该怎么样暴露硬件的力量

21:47
So you can imagine some new hardware coming out
所以你可以想象一些新硬件出现

21:49
It has some new cool features
它有一些新的酷功能

21:52
Well
嗯

21:53
You know
你知道

21:53
Maybe there are ways to use that hardware
也许有一些使用那硬件的方法

21:55
This way it can run faster
这样它就能跑得更快

21:57
The problem is
问题是

21:58
If the OS is exposed to the application
如果os暴露给应用程序

22:00
Then, you have to always expose that
然后，你必须总是暴露那个

22:02
So how do you worry about going backwards
那么你如何担心倒退

22:04
Compatibility and future devices
兼容性和未来设备

22:05
Maybe not exactly the same function
也许没有完全相同的功能

22:08
So you have to have something that will be fairly consistent throughout the technology generation
所以你必须有一些东西，它将在整个技术世代中都相当一致

22:13
Good
好的

22:15
The second rule of the operating system
操作系统的第二条规则

22:16
This is really the more interesting one
这真的是更有趣的一个

22:19
And we will spend most of our time on it
而且我们将花费大部分时间在上面

22:21
Therefore, it is actually necessary to manage resources
所以，实际上是需要进行资源管理

22:24
So not only do you need to provide this interface
所以不仅需要提供这个接口

22:27
In fact, it must also virtualize these resources
实际上，它还必须虚拟化这些资源

22:29
And different apps share those resources in a fair and efficient manner
并且不同的应用程序以公平和高效的方式共享这些资源

22:35
So the operating system needs to provide protection
所以操作系统需要提供保护

22:37
It must ensure that different processes cannot interfere with the operation of other processes
它必须确保不同进程不能干扰其他进程的运行

22:42
We don't want processes to be able to read each other's data
我们不想让进程能够读取彼此的数据

22:45
This is the task of the operating system
这是操作系统的任务

22:47
The operating system must also ensure that all sharing is done fairly
操作系统还必须确保所有共享都公平进行

22:50
We don't want a process to use all the CPU
我们不想让一个进程使用所有的CPU

22:54
while the other process must wait for the first process to complete
而另一个进程必须等待第一个进程完成

22:57
So it's in charge of doing all these things
所以它是负责做所有这些事情的

23:02
Great, I think I've talked about it already
太好了，我认为我已经谈论过这个问题

23:04
already
已经

23:04
We do protection
我们做保护

23:05
We do fair access
我们做公平的访问

23:08
This must be done in the operating system
这必须在操作系统中完成

23:09
If you let the app decide when they run
如果你让应用程序决定他们何时运行

23:13
You have to
你必须

23:14
You have to trust them to free up the CPU
你必须信任他们释放CPU

23:18
When they think that fair distribution has been used
当他们认为已经使用了公平的分配

23:20
And not many apps do that
而且没有多少应用程序会这样做

23:22
If they are competing with others
如果他们在与他人竞争

23:23
So it has to really be said by the operating system that now is the time for you to run
所以它必须真正由操作系统说现在是你运行的时候

23:26
Another process is running
另一个进程被运行

23:30
Good
好的

23:30
So it will be difficult to do
所以这将很难做到

23:32
Of course, we will have many mechanisms to understand
当然，我们将有许多机制需要理解

23:36
For example, how we can actually switch contexts between competing processes
例如，我们如何实际在竞争的进程之间进行上下文切换

23:40
So that we can build policies on top of it
以便我们可以在上面构建政策

23:44
That share CPU fairness
那分享CPU公平

23:46
So we often use that distinction
所以我们经常会使用那个区别

23:48
That is, there is a mechanism that is
那就是有一个机制是

23:51
what
什么

23:52
How to make something happen
如何使某件事情发生

23:53
Then there is the policy of using that mechanism, which kind of says
然后有使用那个机制的政策，它 kind of 说

23:57
When a process is scheduled
当一个进程何时被调度

24:00
Or how much memory it gets
或它得到多少内存

24:02
or how many hard drives it gets
或它得到多少硬盘

24:04
Therefore, the policy work assumes that this mechanism already provides a clean interface
因此，政策工作假设这个机制已经提供了一个干净的接口

24:09
It can be built on top of everything
它可以在所有上面构建

24:13
Good
好的

24:15
So in this course we will see that the operating system does play two main roles
所以在这门课程中，我们将看到操作系统确实扮演两个主要角色

24:18
One is to do standard libraries or abstract resources
一个是做标准库或抽象资源

24:22
The second is as an explorer or as a truly virtualized resource
第二个是作为资源管理器或真正虚拟化资源

24:27
So each application thinks it has its own copy of the CPU
所以每个应用程序都认为它自己有CPU的副本

24:32
It has its own copy of memory and access to the hard drive
它有自己的内存副本和对硬盘的访问

24:35
There are no conflicts or problems
没有冲突或问题

24:37
It really makes sense to make it an operating system
这真的很有意义让它是操作系统

24:39
That's the layer that does it
那是做这件事的层

24:40
This is the operating system
这就是操作系统

24:42
Because it runs under all applications and is able to do it
因为它运行在所有应用程序之下，并且能够做到

24:45
However, it will be very difficult
但是，这将非常困难

24:46
At this level, we will face many tasks to solve interesting challenges
我们在这个层次将面临许多解决有趣挑战的任务

24:51
Therefore, it is too early to rest
所以，休息还为时过早

24:54
But I will try to do this in every class
但我将在每堂课中都尝试这样做

24:58
Because we have an hour and fifteen minutes
因为我们有一个小时十五分钟

25:00
I really think one of the goals of this course is to make you:
我真正认为这门课程的一个目标是让你

25:04
Get to know your colleagues
了解你的同事

25:06
You will work with others
你将与他人合作

25:07
You are the same classmates
你们是同一批学生

25:09
You are people who are learning operating systems at the same time
你们是在同一时间学习操作系统的人

25:14
You really need to know the other people here
你真的需要了解这里的其他人

25:17
So, please
所以，请

25:17
We will spend five minutes introducing ourselves to at least two people around you
我们将花费五分钟至少向你周围的两个人介绍自己

25:22
Want to talk to people you don't know and discuss these issues
希望与不认识的人交谈，并讨论这些问题

29:18
Good
好的

29:24
Good
好的

29:25
So we're going to start over
所以我们将重新开始

29:29
Good
好的

29:30
Attention everyone
所有人注意

29:35
340 people
340人

29:36
Please concentrate
请集中注意力

29:41
You are quieting down
你正在安静下来

29:43
Let's come here, shall we?
让我们到这里来，好吗

29:46
It's time to start again
是时候开始 again 了

29:50
Awesome
棒极了

29:51
Good
好的

29:51
I now see the curve needed to refocus the entire class
我现在看到了将整个班级重新集中注意力所需的曲线

29:56
It's amazing
真是令人惊叹

29:58
How much noise you create
你制造了多少噪音

30:02
What may be heard here
在这里可能听到的东西

30:03
It's really cool
这真的很酷

30:05
Good
好的

30:06
I have never taught this course to 340 people
我从未教过340人的这门课程

30:09
I have taught hundreds of people
我教过几百人

30:10
But it has never exceeded 300 people before
但以前从未超过300人

30:13
So it's a new and fun experience
所以这是一次新的有趣体验

30:16
Good
好的

30:17
The structure of this course is that we will discuss three different parts of the operating system
这门课程的结构是我们将讨论操作系统的三个不同部分

30:23
We sometimes call these three simple parts
我们有时称之为三个简单的部分

30:26
The first concept is virtualization
第一个概念是虚拟化

30:29
How do we provide abstraction for the individual components of the system
我们如何为系统的各个组件提供抽象

30:33
By doing so
通过这样做

30:34
We'll get a quick view with an overview of everything
我们将得到一个对一切都有概述的快速视图

30:37
This method proves to be very convenient
这种方法证明非常方便

30:40
Then, we'll look deeper into concurrency
然后，我们将更深入地研究并发

30:43
So, how do we create multiple threads
那么，我们如何创建多个线程

30:45
These are part of the process
这些是进程的一部分

30:46
They share the same address space
它们共享相同的地址空间

30:48
They have access to the same variables
它们可以访问相同的变量

30:51
How they coordinate access to these shared variables
他们如何协调对这些共享变量的访问

30:54
To ensure that there are no race conditions
以确保没有竞争条件

30:56
So that everything works properly
这样一切就能正常工作

30:58
Then our third component will be persistence
然后我们的第三个组件将是持久性

31:01
How we get it
我们如何得到

31:02
Well, how can a process be able to read the same data that another process wrote at some past time
嗯，过程如何能够读取另一个过程在某个过去时间写的同一数据

31:08
Maybe at some bad point of opportunity, the system crashes
也许在某个糟糕的机会点，系统崩溃了

31:12
Failure occurred at some point in time
在某个时间点出现了失败

31:14
We must ensure that this persistent data is truly reliable and consistent
我们必须确保这种持久数据确实可靠和一致

31:18
Even if the crash occurs at the worst possible time
即使崩溃发生在最糟糕的可能时间

31:21
So persistent data structures are very different from what we usually use
所以持久的数据结构与我们通常使用的有很大的不同

31:25
When dealing with memory
在处理内存时

31:26
You know that there are often bugs in your program
你知道你程序中经常有bug

31:28
You let it collapse
你就让它崩溃

31:29
Then you restart it
然后你就重启它

31:31
Or you run it again
或者你再次运行它

31:32
Let's assume it starts from a clean state
我们假设它从干净的状态启动

31:35
You have a clean address space again
你又有了一个干净的地址空间

31:37
All is fine, you can run it again and try
一切都好，你可以再次运行并尝试

31:41
But if you mess up the file system or persistent data structures
但如果你弄乱了文件系统或持久的数据结构

31:44
Where are you going back
你要回到哪里去

31:45
So this will be an interesting question
所以这将是一个有趣的问题

31:48
Good
好的

31:49
So we're going to start some demos now to show the concept of virtualization
所以我们现在要开始一些演示，以显示虚拟化的概念

31:54
The idea of virtualization is that each application should think of itself as having its own exclusive access
虚拟化的想法是，每个应用程序都应该认为它自己有自己的独家访问

32:00
or a copy of each resource
或每个资源的副本

32:03
Let's see how this works
让我们看看这如何工作

32:07
I need to put on my glasses and switch to my code screen
我需要戴上眼镜，切换到我的代码屏幕

32:13
and switch to my CPU code
并切换到我的cpu代码

32:17
That's great
太好了

32:18
So you can all see that
所以你们都可以看到这样

32:21
Or should I make it bigger
或者我应该让它更大

32:24
Slightly larger
稍微大一点

32:26
Good
好的

32:26
Slightly larger
稍微大一点

32:27
Good
好的

32:29
So I'm going
所以我要出发了

32:30
I'm running my Mac here
我在这里运行我的Mac

32:32
But most of these same things will behave exactly the same
但大多数这些相同的事情将行为完全相同

32:35
On a guided machine running Linux
在运行Linux的指导机器上

32:37
So I'm going to run the superlative
所以我要运行最高级

32:39
"So, it's a great system debugging tool"
"所以，这是一个伟大的系统调试工具"

32:42
"If you're not familiar with it"
"如果你不熟悉它"

32:43
This just shows all the processes that are running on this machine
这只是显示在这个机器上正在运行的所有进程

32:47
"I have ordered it to sort the process"
"我已经命令它排序过程"

32:50
"According to the number of CPUs they use"
"根据他们使用的CPU数量"

32:52
"Because we're doing CPU testing right now"
"因为我们现在正在做CPU测试"

32:55
So, it shows some interesting facts
所以，它展示了一些有趣的事实

32:57
"So, how many processes do you think are running on my machine?"
"那么，你认为我的机器上正在运行的进程有多少个？"

33:00
"You know I'm not doing well right now"
"你知道我现在做得并不好"

33:02
I'm running my PowerPoint slides
我正在运行我的PowerPoint幻灯片

33:04
But well, I always have some Chrome running
但是嗯，我总是有一些Chrome运行

33:07
Dropbox runs
Dropbox运行

33:08
So all these processes are constantly doing some work for me
因此，所有这些进程都在为我不断做一些工作

33:12
There are 340 processes in the system
系统中有340个进程

33:15
But only 2 processes are actively running
但只有2个进程正在活跃运行

33:17
Most processes are sleeping
大多数进程都在睡觉

33:18
They are blocked
它们被阻塞

33:19
Wait for IO
等待IO

33:20
Or wait for something interesting to happen
或等待有趣的事情发生

33:21
So most processes are sleeping
所以大多数进程都在睡觉

33:23
Some of these processes have multiple threads
其中一些进程有多个线程

33:26
They are written in a multithreaded manner
它们以多线程方式编写

33:28
To take advantage of the fact that modern laptops have multiple cores
以利用现代笔记本电脑有多个核心的事实

33:32
It gives me some statistics about load averages
它给了我一些关于负载平均值的统计

33:35
So this shows at different time intervals
所以这显示了在不同时间间隔内

33:38
How many processes in the system are running queues or waiting to complete work
系统中有多少进程在运行队列或等待完成工作

33:44
Then it gives me a percentage of CPU utilization
然后它给了我CPU利用率的百分比

33:48
Currently it is only utilized by about 5%
目前它只被利用约5%

33:50
Showing these slides doesn't do too much calculation
展示这些幻灯片并不 doing 太多的计算

33:53
As you know it is divided into user time
正如你们所知，它被分为用户时间

33:57
System time and idle time
系统时间和空闲时间

33:59
So here my system is mostly idle
所以这里我的系统主要是空闲的

34:01
It gives a lot of memory statistics
它给出了大量的内存统计

34:03
We don't look at that at all
我们根本不会看这些

34:06
Then we will dive into the different processes on these lists
然后我们将深入到这些列表中的不同进程

34:09
It gives the p-number for each running process
它给出了每个正在运行的进程的p号

34:12
process identifier, which will be unique
进程标识符，将是唯一的

34:15
You will see that process ID0 is a kernel task
你会看到进程ID0是一个内核任务

34:19
It is created when the system starts
它在系统启动时创建

34:22
Here it is performing some administrative tasks for the entire system
在这里它正在为整个系统执行一些管理任务

34:27
It shows the CPU time accumulated by this process since it started
它显示了自启动以来这个进程累计的CPU时间

34:33
How many threads does it have, etc
它有多少线程等

34:35
Good
好的

34:35
So we'll just leave this in the background
所以我们只会将这个留在后台

34:37
While we are conducting different tests
在我们进行不同测试的同时

34:39
I'm going to run an extremely simple program called cpu_c here
我将在这里运行一个极其简单的程序，叫做cpu_c

34:45
What it does
它做什么

34:46
It accepts one parameter
它接受一个参数

34:49
It will be a printed string
它将是一个被打印出的字符串

34:51
So that I can see an instance of this program I'm running
以便我可以看到我正在运行的这个程序的实例

34:55
It just keeps printing this
它只是不断地打印这个

34:58
and rotate for one second
并旋转一秒

35:00
So I can show you
所以我可以显示给你

35:08
嗯，common.h
嗯，common.h

35:11
I have some very boring routine writing
我有一些非常无聊的例程编写

35:13
So, what does spin do?
那么，spin做什么

35:14
In reality, it's just a busy cycle
实际上，它只是一个忙碌的循环

35:17
It is called repeatedly
它反复调用

35:19
Get time
Get time

35:20
So I can do some work there
所以我可以在那里做一些工作

35:22
That way the compiler won't optimize this out
这样编译器就不会优化这个出去了

35:24
But in reality it was just waiting there and doing nothing
但实际上它只是在那里忙忙碌碌地等待，什么也没做

35:28
Good
好的

35:29
What happens when I run this program
当我运行这个程序时，会发生什么

35:33
I just gave it the string a
我只是给它字符串a

35:35
So I can see yes
这样我可以看到是的

35:36
It's running
它正在运行

35:38
Then we can see it in the top and see it now
然后我们可以在top中查看，现在看到

35:41
yes
是的

35:41
It is true that we have a running process
确实我们有一个正在运行的进程

35:43
It is getting 100% CPU
它正在获取百分之百的CPU

35:46
Our load count is increasing
我们的负载计数正在增加

35:48
Here, too, our CPU usage is increasing
在这里，我们的CPU使用率也在增加

35:51
So the system is still quite idle, so
所以系统仍然相当空闲，所以

35:53
Of course, we can run another one
当然，我们可以再运行一个

35:56
We'll see that one show
我们将看到那个显示出来

35:58
We will see that our system is now about fifty percent idle
我们将看到我们的系统现在约百分之五十空闲

36:02
Because we are running two processes
因为我们正在运行两个进程

36:04
So that tells us there are about four
所以这告诉我们大约有四个

36:07
Well
嗯

36:08
Some type of vCore is on this architecture
某种类型的虚拟核心在这个架构上

36:12
Run the third one
运行第三个

36:14
This is oh no
这是哦不

36:15
That's not the right CPU, see running the third one
那不是正确的CPU，看运行第三个一个

36:21
It still gets about one hundred percent of the CPU
它仍然获取大约百分之百的CPU

36:23
Some others are taking up some on the fourth
一些其他的正在占用一些在第四个上

36:29
They still get about one hundred percent of the CPU
它们仍然获取大约百分之百的CPU

36:31
Of course
当然

36:32
We are approaching zero free time
我们正在接近零的空闲时间

36:35
We are busy looping with all the active CPUs
我们正在使用所有有效的CPU进行忙碌循环

36:38
Then I'll run one last
然后我会最后运行一个

36:46
CPU
CPU

36:47
And
E

36:49
The fifth one started running
第五个开始运行

36:51
Now the operating system has a more interesting scheduling task to do
现在操作系统有一个更有趣的调度任务要做

36:54
It must figure out how or how much to allocate or schedule
它必须找出如何或多少地分配或调度

36:57
Or assign the five processes to four different virtual CPUs or cores
或分配这五个进程到四个不同的虚拟CPU或核心那里

37:03
Of course
当然

37:04
Each of these gets a CPU percentage anymore
每个这些得到的CPU百分比不再

37:07
It is the one hundred percent it gets when it basically has a CPU all to itself
是它当基本上有一个CPU全部给它自己时得到的百分之百

37:11
Now it's sharing
现在它在分享

37:12
On four CPUs on five processes
在五个进程上的四个CPU上

37:15
They will each receive about 80 percent
他们各将得到约百分之八十

37:16
Now we have zero free time
现在我们有零的空闲时间

37:18
Because we are doing our best to utilize all CPU resources
因为我们正在尽我们所能地利用所有的CPU资源

37:23
Good
好的

37:23
So that dot means just wanting to show what you know
所以那个点的意思是只是想要显示你知道的

37:28
The CPU is virtualized as a process
CPU被虚拟化为进程

37:30
We can run more processes than the actual cores or CPUs in the system
我们可以运行比系统中实际核心或CPU更多的进程

37:35
And the operating system is hiding this to prevent applications and proceeds
并且操作系统正在隐藏这一点，以防止应用程序和进行

37:40
There, it does some useful scheduling to give them good response times and other things
在那里，它做一些有用的调度，以给他们提供良好的响应时间和其他东西

37:45
Good
好的

37:46
So let's kill the top
所以让我们杀死top

37:48
Let's kill all of them
让我们杀死所有这些

37:51
CPU tasks
CPU任务

37:54
Now let's look at mem
现在让我们看看mem

37:55
C
C

37:58
So I also accept only one parameter
所以我也仅接受一个参数

38:03
It is the value it will use to initialize one
它是它将用于初始化一个的值

38:08
A variable assigned on the heap
一个在堆上分配的变量

38:10
So you can see here that we assign a value as a global variable
所以你在这里看到，我们分配了一个作为全局变量的值

38:18
So it has been put on the heap for this process
所以它已经被放在堆上供此进程使用

38:21
Then on the stack as a local variable
然后在栈上作为局部变量

38:24
I assigned int *p
我分配了int *p

38:26
So p is a pointer to an integer
所以p是一个指向整数的指针

38:29
It is the address of an integer
它是整数的地址

38:30
I'll initialize this by saying the address where p equals the value
我将通过说p等于值的地址来初始化这个

38:35
So p points to the value
所以p指向值

38:37
or p contains the address of the value
或p包含值的地址

38:40
Good
好的

38:40
That's the setup
这就是设置

38:42
Then I will print out p
然后我将打印出p

38:45
The process ID of this particular process
此特定过程的进程ID

38:48
I'll show the address stored in the pointer
我将显示存储在指针中的地址

38:53
Here's what you know
这就是你知道的

38:55
An address worth it, right?
值其值的地址对吧

38:57
The value we save in p
我们在p中保存的值

39:00
The purpose of this is to:
这个的目的是

39:02
I want to show the process
我想要显示进程

39:05
Each has its own address space
每个都有自己的地址空间

39:07
They have a virtual address space
他们有一个虚拟地址空间

39:09
If two different processes have a string on the same virtual address
如果两个不同的过程有一个在相同的虚拟地址上的字符串

39:15
It's just completely unrelated
它只是完全无关的

39:16
There is no conflict there
在那里没有冲突

39:18
Each can have different variables on the same virtual address
每个都可以有不同的变量在相同的虚拟地址上

39:22
So I hope this demo is really simple
所以我希望这个演示真的很简单

39:24
However, in modern systems I can't
但是，在现代系统中我无法

39:27
So
所以

39:28
I will show you what happens with modern systems
我将向您展示现代系统发生的情况

39:35
I ran it
我运行了它

39:44
I mean
我的意思是

39:47
I want this value to be placed on the same virtual address in both processes
我想要这个值在两个过程中被放置在同一个虚拟地址上

39:51
在 both processes 中
在 both processes 中

39:52
You might print this
你可能打印出这个

39:53
You see that they are not the same virtual address
你看到他们不是相同的虚拟地址

39:56
This is because modern compilers do this
这是因为现代编译器这样做

40:02
Randomization of this virtual address
这个虚拟地址的随机化

40:05
So that you can't do different attacks
以便你不能做不同的攻击

40:06
Because you don't know where the page will be placed
因为你不知道页面将被放置在哪里

40:09
Where the variables will be assigned
变量将被分配到哪里

40:11
So in order to close it
所以为了关闭它

40:12
I have to either use a special compilation flag or use a debugger
我必须要么使用特殊的编译标志，要么使用调试器

40:16
So I'm going to run it through this debugger
所以我将通过这个调试器运行它

40:18
This will close it
这将关闭它

40:20
lldb is a debugger like gdb
lldb是像gdb的调试器

40:24
But on my Mac, I will tell it the process I want it to use
但在我的Mac上，我会告诉它我想它使用的进程

40:28
I say run, I give it parameters
我说运行，我给它参数

40:34
I'm very happy now
我现在非常高兴

40:35
Because now they are all given the same address
因为现在都给了相同的地址

40:39
The same virtual address in both processes
这两个进程中的相同虚拟地址

40:42
Here's what I'm going to get
这是我将得到的

40:43
If I had done this demo fifteen years ago
如果我十五年前做这个演示

40:46
I don't have to do this weird thing, run with a debugger
我不必做这种奇怪的事情，用调试器运行

40:48
So anyway
所以不管怎么说

40:49
Let's say each of them has the same virtual address
假设它们每个人都有相同的虚拟地址

40:55
So my point here is that although they both have the same virtual address
所以我在这里的观点是，尽管它们两者都有相同的虚拟地址

41:01
They each have their share
它们各自都有那份

41:03
Obviously each process has its own address space
显然每个进程都有自己的地址空间

41:05
Even though they have the same virtual address, they are accessing
即使它们有相同的虚拟地址，它们正在访问

41:09
These are eventually mapped to different pages of physical memory
这些最终被映射到物理内存的不同页

41:13
They will contain values that are completely different from each other
它们将包含彼此完全不同的值

41:16
So soon in the course
所以很快在课程中

41:18
We will talk about virtual memory
我们将谈论虚拟内存

41:20
and how to map virtual addresses to physical addresses in operating systems and hardware
和如何在操作系统和硬件中映射虚拟地址到物理地址

41:25
And how all these abstractions are done
以及所有这些抽象是如何完成的

41:27
So each process will have its own address space
所以每个进程都将有自己的地址空间

41:30
These are completely independent
这些是完全独立的

41:34
Good
好的

41:35
So in a way, you'll understand the different degrees of these differences
所以从某种程度上，你将理解到这些差异的不同程度

41:40
You will fully understand it in a few weeks
你将完全理解它几周后

41:43
But it just gives you a general idea of what we're going to do
但这只是让你对我们将要做的有一个大致的理解

41:48
Good
好的

41:50
So let's get back to some slides
所以让我们回到一些幻灯片

41:53
This is the first part of the course
这是课程的第一部分

41:54
How we virtualize resources like CPU and memory to provide abstraction of the application
我们如何虚拟化像CPU和内存这样的资源，以提供应用程序的抽象

42:02
Then the second thing we talk about in this course will take up a lot of time
然后，我们在这门课程中谈论的第二件事将占据很多时间

42:04
It is concurrency
是并发性

42:06
So modern applications are written as multithreaded
所以现代应用程序被编写为多线程的

42:08
So that they can use all the cores available
以便他们可以使用可用的所有核心

42:12
But when you have all these threads running at the same time
但当你有所有这些同时运行的线程时

42:15
We need to be very careful about how they access shared variables
我们需要非常小心地它们如何访问共享变量

42:19
In the same address space
在同一个地址空间

42:20
Otherwise we will get the wrong result
否则我们将得到错误的结果

42:23
So let's look at some examples there
所以让我们看一些例子那里

42:30
So let's look at the threads
所以让我们看线程

42:32
Point v zero point c
点v零点c

42:35
Good
好的

42:36
This does a lot of things, and most of them don't understand it now
这个做很多事情，现在大多数都不会理解

42:40
So we simply look at it from above
所以我们只是简单地从高处看

42:43
The main function accepts one argument
主函数接受一个参数

42:45
It will be the number of iterations of these threads
它将是这些线程迭代的次数

42:47
Each thread will iterate through these
每个线程都将遍历这些

42:49
We will create two threads using this standard interface
我们将使用此标准接口创建两个线程

42:52
So, we will have control flow in this process
所以，我们将在这个过程中有控制流的流动

42:56
Every thread is working
每个线程都在工作

42:57
But they share the same address space
但它们共享相同的地址空间

43:00
So, the whole meaning of the concept of threads is:
所以，线程的概念的全部意义是

43:01
That is that they will share the same counter and the same cyclic value
那就是它们将共享相同的计数器和相同的循环值

43:06
Because they are in the same address space
因为它们在同一个地址空间中

43:09
I use the keyword volatile to tell the compiler
我使用关键字volatile来告诉编译器

43:12
So, the compiler knows that this is a variable that is shared between multiple threads
所以，编译器知道这是一个在多个线程之间共享的变量

43:16
Therefore, the compiler does not just store this variable in registers
因此，编译器不会只是将这个变量存储在寄存器中

43:19
It must allocate actual space on the heap
它必须在堆上分配实际空间

43:22
and move the value from the register back to the shared space
并将值从寄存器移动回共享空间

43:26
So that different threads can see the same value
以便不同的线程可以看到相同的值

43:28
Good
好的

43:29
So we create these two threads and then basically connect them so they get the job done
所以我们创建这两个线程，然后基本上将它们连接起来，以便它们完成工作

43:34
So, what's really interesting is the work that those two threads are doing
所以，真的很有趣的是，那些两个线程在做的工作

43:38
When I create these two threads
当我创建这两个线程时

43:40
I told them about the beginning
我告诉他们开始时

43:41
They should call this worker function first
他们应该首先调用这个工人函数

43:44
So you have the opportunity to do this later
所以你们以后有机会做这件事

43:47
Every worker is doing very little work
每个工人都在做很少的工作

43:49
It just adds the counter many times
它只是增加了计数器很多次

43:54
It is the same counter shared by both of them
它是与他们两个共享的相同的计数器

43:58
Good
好的

43:59
So
所以

44:01
What we want happens
我们想要什么发生

44:06
Good
好的

44:06
Let's run thread v0
让我们运行线程v0

44:10
and run it ten times
并运行它十次

44:13
So what are the results we want to see
所以我们想要看到的结果是什么

44:15
When the main thread displays the value of the counter
当主线程显示计数器的值时

44:21
Who thinks it's ten
谁认为它是十

44:23
Raise your hand, who thinks it's twenty
举起手，谁认为它是二十

44:26
Raise your hand, who thinks it's something else
举起手，谁认为它是其他什么

44:30
I don't know what else would be reasonable
我不知道其他什么会是合理的

44:31
Good
好的

44:32
If we run it ten times in a traversal loop per thread
如果我们以每个线程遍历循环十次运行它

44:37
We have two threads
我们有两个线程

44:38
So they each increase the value of the counter ten times
所以它们各自增加了计数器的值十次

44:42
There are two of them
有两个它们

44:43
So it will rise to twenty
所以它会上升到二十

44:44
Good
好的

44:45
That's the beauty of it when it works
这就是它工作时的美妙之处

44:47
You've written your program
你已经编写了你的程序

44:48
You test on a simple test case
你在一个简单的测试用例上进行了测试

44:50
You are like
你像

44:51
yes
是的

44:51
My code works fine and even passes a few additional test cases
我的代码运行良好，甚至通过了一些额外的测试案例

44:54
Let's increase to a hundred
让我们增加到一百

44:55
Oh, take a look
哦，看看

44:55
It is still working
它还是工作

44:56
Let's increase it to a thousand
让我们增加到一千

44:57
It is still working
它还是工作

44:58
This has to be a great program
这必须是一个伟大的程序

45:01
You can increase it to one hundred thousand
你可以增加到十万

45:02
And it doesn't work anymore
而且它不再工作了

45:04
Run it more
运行它更多

45:05
And just
而且只是

45:06
But it doesn't work at all
但它根本不起作用

45:08
So for very small problem sizes
所以对于非常小的问题规模

45:10
If the program only runs for a very short time
如果程序只在极短的时间内运行

45:13
It will work correctly
它将正确工作

45:15
But as we put more pressure on it, let it run longer
但随着我们给它更多的压力，让它运行更长的时间

45:18
It will put pressure on all these competitive conditions that exist in the program
它将会压力所有这些存在于程序中的竞争条件

45:22
So the problem is, every thread assumes
所以问题是，每个线程都假设

45:26
It has exclusive access to this counter
它具有对这个计数器的 exclusive 访问权

45:29
It can increase it
它可以增加它

45:31
"And, that operation will happen atomically."
"并且，那个操作将原子性地发生"

45:33
"In order to really increase the way we think about how we should do it"
"以便真正增加我们应如何增加思维方式的方式"

45:37
"The problem is this C instruction, it looks like a normal instruction."
"问题在于这个c指令，它看起来就像是一个普通的指令。"

45:41
"The compiler will convert that into three assembly instructions"
"编译器将把那个转换成三个汇编指令"

45:45
"We could be very unlucky"
"我们可能会非常不幸运"

45:47
"And the scheduler will switch between different threads"
"并且调度器将切换到不同的线程之间"

45:50
"In the different sections of these assembly manuals"
"在这些装配说明书的不同部分"

45:53
"We don't get the right results"
"我们得不到正确的结果"

45:54
"Then let me show you a little bit of that"
"那么让我来给你展示一点那个"

45:57
"So, in different systems, you can use a wide variety of tools."
"所以，在不同的系统中，你可以使用各种各样的工具。"

46:00
Unpack the executable file on Mac
在Mac上解包可执行文件

46:05
That's that tool thing
这就是那个工具东西

46:06
I tell it my executable
我告诉它我的可执行文件

46:08
It outputs assembly code beautifully
它很漂亮地输出汇编代码

46:14
So we don't want to go into details here
所以我们不想在这里深入细节

46:17
I just want to show you the main ideas in general
我只想大致展示一下主要思想

46:19
So I'm going through all this code
所以我正在浏览所有这些代码

46:21
I'm looking for my worker routine
我正在寻找我的工人例程

46:25
Where are the workers
工人在哪里

46:29
There are workers here, great
这里有工人，太好了

46:30
Good
好的

46:30
It's so beautiful that there's even a label for me to mark
它这么漂亮，甚至有一个标签为我标记

46:32
Thank God
谢天谢地

46:33
This is the worker routine and the instruction assembly associated with it
这是工人例程和与它相关的指令装配

46:38
And what I see, I want to find the main part of this loop
而且我看到的，我想找到这个循环的主要部分

46:43
We increase the counter variable there
我们在那里增加计数器变量

46:46
And it's beautiful, with a label marked for me
而且它很漂亮，有一个标签为我标记

46:48
But I can see what it does here
但我可以看到它在这里做什么

46:51
It's about taking that value
是取那个值

46:53
Counters in memory
内存中的计数器

46:55
It moves it into a register
它将其移动到一个寄存器中

46:57
It increases the value in the register by 1
它将寄存器中的值增加1

46:59
It then moves the newly added value back into memory
然后它将新增加的值移动回内存中

47:03
So usually these three instructions run together
所以通常这些三个指令一起运行

47:07
But if the scheduler decides to switch between these two
但如果调度器决定在这些两个之间进行切换

47:13
They can eventually become chaotic
它们最终会变得混乱

47:14
We'll dive in
我们将深入探讨

47:16
What exactly will get messed up, and what will happen and how to fix it later
确切地哪些东西会变得混乱，以及会发生什么以及如何修复它稍后

47:21
But that's basically what we need to solve
但这基本上是我们需要解决的问题

47:25
So I don't expect you to understand it all now
所以我不指望你现在能全部理解

47:28
I don't know why you should take this course
我不知道你为什么要参加这门课程

47:31
But we'll fix that
但我们将解决这个问题

47:33
So how do we solve it
所以我们如何解决它

47:35
Let's look at threads_v2.c
让我们看看threads_v2.c

47:39
We use these beautiful synchronized primitives, and they are very standardized
我们使用这些美丽的同步原语，它们非常标准化

47:44
We need to have exclusive access to that counter
我们需要对该计数器具有 exclusive 访问权

47:48
We need to atomize this instruction
我们需要使此指令原子化

47:50
We have to make sure that no other threads are scheduled
我们必须确保没有其他线程被调度

47:54
When increasing this counter in the middle
在中间增加该计数器时

47:56
One way is to use locks and unlocks
一种方法是使用锁和解锁

48:00
Basically only one thread can get the lock
基本上只有一个线程可以获取锁

48:03
So there is only one thread in the atomic part
所以只有一个线程可以在原子部分

48:06
This key part at the same time
这个关键部分同时

48:09
So now when we run our program
所以现在当我们运行我们的程序时

48:11
Let's see
让我们看看

48:13
Let's run v2
让我们运行v2

48:15
Of course, it only runs on decimals
当然，它只在小数上运行

48:18
It runs on large numbers
它在大数上运行

48:21
Now, it works very well and has a lot of issues to solve
现在，它运行得很好，有很多问题需要解决

48:27
How to use the lock correctly
如何正确使用锁

48:29
You may have noticed that this version runs slower
你可能注意到，这个版本运行得更慢

48:33
If I time this version
如果我计时这个版本

48:37
It took about half a second
它花了大约半秒

48:38
If I do the version without using the lock
如果我做没有使用锁的版本

48:43
It runs on
它运行在

48:44
You know
你知道

48:45
0.01 second
零点零一秒钟

48:46
The overhead associated with lock acquisition is significant
与锁获取相关的开销非常大

48:50
That's an interesting question
这就是一个有趣的问题

48:52
Because you have to figure out how to implement the lock efficiently
因为你必须找出如何高效实现锁

48:55
And user applications must figure out how to use them efficiently
并且用户应用程序必须找出如何高效使用它们

48:58
This problem becomes more interesting when there are multiple processors
当有多个处理器时，这个问题会变得更有趣

49:03
And they share cache lines
并且它们共享缓存行

49:06
and how to make them all work
以及如何使它们都工作

49:07
We will touch on some of these aspects
我们将触及一些这些方面

49:09
But here, it will be at a higher level
但在这里，它将处于较高水平

49:11
It will be mainly about correctness
它将主要关于正确性

49:13
Make sure it is working properly
确保它正常工作

49:14
And the performance is reasonable
并且性能合理

49:16
But it's a fascinating subject
但这是一个令人着迷的主题

49:18
Understand how to use locks effectively
理解如何有效地使用锁

49:23
So, in the next lecture
所以，在下一次讲座中

49:25
I'll let you all ask more questions
我会让你们都提更多的问题

49:27
I feel like today I'm just pouring out information to you
我觉得今天我只是在向你们倾倒信息

49:30
But I don't expect this to be the case with future lectures
但我不期望未来的讲座会这样

49:33
I'm just addressing you
我只是在向你们讲话

49:34
You must listen to me like this
你们必须像这样听我

49:36
Good
好的

49:37
Good
好的

49:40
This is the concurrent demo
这就是并发演示

49:43
The third thing we want to look at is persistence
我们要看的第三项是持久性

49:45
I don't have a demo for this one
对于这个我没有演示

49:47
Because I didn't find some interesting ways
因为我没有找到一些有趣的方法

49:49
I guess it's to crash the machine and show it working
我猜测是让机器崩溃并展示它工作

49:51
We will discuss this in detail later
我们将在后续详细讨论这个问题

49:54
But basically again
但基本上再次

49:55
How to update these different parts on your hard drive
如何在硬盘上更新这些不同的部分

49:59
This way even if you update one
这样即使你更新了一个

50:01
But you can't update the second one
但你无法更新第二个

50:03
Your file system metadata
你的文件系统元数据

50:05
The way you describe the file system
你对文件系统的描述方式

50:06
Your directory hierarchy won't break
你的目录层次结构不会损坏

50:09
And it still makes sense
而且仍然有意义

50:11
Even when a bad point in time crashes happens and persistence is a really interesting issue
即使在时间点不好的崩溃发生并且持久性是一个真的很有趣的问题时

50:17
Because the performance is so obvious
因为性能表现得如此明显

50:19
So the hard drive is really slow
所以硬盘真的很慢

50:20
Compared to CPU and memory
与CPU和内存相比

50:22
So we will spend a lot of time to make sure we are really optimized
所以我们将花费很多时间来确保我们真正优化

50:25
How we access these devices
我们如何访问这些设备

50:27
So of course SSDs are much faster than older ones
所以当然固态硬盘比旧的硬盘快得多

50:31
"However, they are still much slower than memory or access registers."
"但是，它们仍然比内存或访问寄存器慢得多。"

50:35
So you have to be a little smarter
所以你得有点聪明

50:37
"How do you design your file system"
"你如何设计你的文件系统"

50:41
"Okay"
"好的"

50:42
"Then, at the end of the semester"
"然后，学期结束时"

50:44
"As long as we have the time and energy"
"只要我们有时间和精力"

50:46
"We'll explore some advanced topics"
"我们将探讨一些高级主题"

50:47
I usually talk about SSDs
我通常谈论固态硬盘

50:50
At that time
在那个时候

50:50
"How flash works"
"闪光灯如何工作"

50:51
And let's talk about distributed file systems or network file systems
并且让我们来谈谈分布式文件系统或网络文件系统

50:55
Because it's cool to know that
因为知道这些很酷

50:57
How Google structures its file system
谷歌是如何结构化其文件系统的

51:00
This allows you to access data in a scalable way for thousands of machines
使得你可以让数千台机器以可扩展的方式访问数据

51:05
But it's a bit advanced
但这有点高级

51:08
Good
好的

51:09
So why are you all here?
所以你们都为什么在这里

51:11
So maybe some of you here know that you will become OS developers in the future
所以可能这里有些人知道你们将来会成为操作系统开发者

51:15
You guys really need to know all of that
你们真的需要知道所有这些

51:17
You need to know how to configure your operating system
你需要知道如何配置你的操作系统

51:19
That's all
那就是所有

51:20
I guess this is probably a very small part of the people here who actually become OS developers
我想这可能是这里真正成为操作系统开发者的人很少的一部分

51:24
But if you want to be like that
但如果你想要成为那样的人

51:25
That's amazing, and I'm happy to work with you
那真是太棒了，我很高兴与你合作

51:27
I think the reason why most people want to take this course is why
我认为大多数人想要参加这门课程的原因是

51:30
Once you understand how the operating system works
一旦你理解了操作系统的工作原理

51:33
It really helps you understand other layers of the system
它确实可以帮助你理解系统的其他层次

51:35
It gives you a good picture of how your entire machine works
它给你一个关于你整个机器如何运行的好画面

51:38
This will allow you to understand how it will enable you
这将使你能够理解它将如何使你能够

51:42
Job
工作

51:44
If you are an app developer
如果你是一个应用开发者

51:46
Or a programming language expert
或者是一个编程语言专家

51:48
People who are writing compilers
正在编写编译器的人

51:49
You need to know what the operating system is doing
你需要知道操作系统在做什么

51:51
This way you can understand the performance of your application
这样你才能理解你应用的性能

51:55
So you can run the top and see
这样你才能运行top并看到

51:56
hey
嘿

51:57
My process is not being scheduled
我的进程没有得到调度

51:59
Why might it be so
为什么可能是这样

52:00
Who am I competing with?
我竞争的对象是谁

52:03
"Really helps you understand what's going on in the system"
"真的很帮助你理解系统正在发生的事情"

52:06
I also think it's really interesting
我也认为这真的很有趣

52:08
"It's like if you're an architect"
"就像是如果你是一个建筑师"

52:10
"If you're interested in that field"
"如果你对那个领域感兴趣"

52:12
Of course you want to understand how the operating system uses the abstraction you provide
你当然想要理解操作系统是如何使用你提供的抽象的

52:17
"How do I write a real-time operating system that fits your new multi-core system, including hyper-threading?"
"如何编写一个适合你新多核系统的实时操作系统，包含超线程功能？"

52:22
"All these different characteristics"
"所有这些不同的特征"

52:24
"Understanding the features you add to the architecture is beneficial"
"理解你添加到架构中的特性是有益的"

52:31
"And then in the end, I think it's like a pleasure."
"然后最后，我认为这就像是一种乐趣"

52:33
Because it's really hard
因为它真的很难

52:35
You will be given a lot of code
你将被赋予大量的代码

52:38
You didn't write this code
这些代码你没有写

52:39
It will be a mix of C and assembly
它将是C和汇编的混合

52:42
You need to figure out the parts of the code that you need to understand
你需要找出你需要理解的代码部分

52:45
parts that you can completely ignore
你可以完全忽略的部分

52:47
It is concurrent
它是并发的

52:49
You have multiple threads running
你有多个线程运行

52:50
You need to understand all the different time interactions
你需要理解所有不同的时间交互

52:54
So I like it
所以我喜欢它

52:55
Because I think it's a bit harder than just understanding the behavior of an app
因为我认为它比仅仅理解一个应用的行为要难一些

53:00
I like things that seem a little difficult
我喜欢看起来有点困难的事情

53:04
Good
好的

53:04
So I think that's the bulk of my content
所以我认为这就是我内容的大部分

53:07
There are a lot of people on the waiting list
等待名单上有很多人

53:09
But this room is not full
但这间房间并不满

53:11
So, my nightmare didn't come true here
所以，我的噩梦在这里没有实现

53:15
If you're on the waiting list
如果你在等待名单上

53:17
I have some forms here for you to sign
我在这里有一些表格供你签名

53:20
If you are in this course
如果你在这个课程中

53:22
Do you no longer want to take this course now?
你现在不再想参加这门课程吗

53:24
Because of the way the lecture is conducted
因为讲座进行的方式

53:26
All the way
所有的方式

53:27
Please leave the class as soon as possible to allow some others to enter the class
请尽快退课，让一些其他人进入课程

53:32
Wait a moment
稍等片刻

53:33
Let me walk through the next step with you
让我和大家一起过一下下一步骤

53:36
You still have a lot of time
你还有很多时间

53:39
So what should you do before we meet
所以在我们见面之前你应该做什么

53:40
We meet on Tuesday
我们周二见面

53:43
Please look at the canvas
请看画布

53:44
See the first programming project
请看第一个编程项目

53:49
Next week you have a discussion section and a project is due
下周你有讨论部分，有一个项目到期

53:54
I won't interrupt you, so
我不会打断你们的，所以

53:56
Good bye
再见
