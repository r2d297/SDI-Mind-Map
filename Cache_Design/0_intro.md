1
00:00:00,000 --> 00:00:03,080
你好,我是你的缓冲老师陈波

2
00:00:03,080 --> 00:00:06,600
相比真名,可能大家对我的网名Fisherman更熟悉

3
00:00:06,600 --> 00:00:08,440
我是资深老马龙一枚

4
00:00:08,440 --> 00:00:10,440
经历了新浪微博从起步

5
00:00:10,440 --> 00:00:14,720
到当前约活数亿用户的大型互联网系统的技术演进过程

6
00:00:14,720 --> 00:00:16,920
现任新浪微博技术专家

7
00:00:16,920 --> 00:00:19,120
我于2008年加入新浪

8
00:00:19,120 --> 00:00:21,960
最初从事新浪IM的后端研发

9
00:00:21,960 --> 00:00:23,520
2009年之后

10
00:00:23,520 --> 00:00:27,160
开始微博Feed平台系统的研发及架构工作

11
00:00:27,160 --> 00:00:29,160
深入参与最初若根的版本

12
00:00:29,160 --> 00:00:32,040
几乎所有业务的开发和架构改进

13
00:00:32,040 --> 00:00:33,280
2013年后

14
00:00:33,280 --> 00:00:36,880
开始从事微博平台基础架构相关的研发工作

15
00:00:36,880 --> 00:00:40,360
目前主要从事微博Fed平台的基础设施

16
00:00:40,360 --> 00:00:41,360
缓冲中间件

17
00:00:41,360 --> 00:00:44,440
分布式存储等的研发及架构优化工作

18
00:00:44,440 --> 00:00:48,320
随着互联网从蒙户搜索时代进入移动社交时代

19
00:00:48,320 --> 00:00:51,560
互联网产品也从满足用户单向浏览的需求

20
00:00:51,560 --> 00:00:55,440
发展为满足用户个性信息获取及社交的需求

21
00:00:55,440 --> 00:00:59,320
这也要求产品做到以用户和关系为基础

22
00:00:59,320 --> 00:01:02,120
对海量数据进行实时分析计算

23
00:01:02,120 --> 00:01:04,440
也就意味着用户的每次请求

24
00:01:04,440 --> 00:01:07,360
服务后端都要查询用户的个人信息

25
00:01:07,360 --> 00:01:08,560
社交关系图谱

26
00:01:08,560 --> 00:01:12,560
以及关系图谱涉及到的大量关联信息

27
00:01:12,560 --> 00:01:14,840
还要将这些信息进行聚合

28
00:01:14,840 --> 00:01:15,480
过滤

29
00:01:15,480 --> 00:01:17,000
筛选和排序

30
00:01:17,000 --> 00:01:18,840
最终响应给用户

31
00:01:18,840 --> 00:01:21,360
如果这些信息全部从DB中加载

32
00:01:21,360 --> 00:01:24,440
将会是一个无法忍受的漫长等待过程

33
00:01:24,440 --> 00:01:25,920
而缓存的使用

34
00:01:25,920 --> 00:01:27,520
是提升系统性能

35
00:01:27,520 --> 00:01:29,920
改善用户体验的唯一解决之道

36
00:01:29,920 --> 00:01:31,280
以新浪微博为例

37
00:01:31,280 --> 00:01:33,600
作为移动互联网时代的一个开拓者

38
00:01:33,600 --> 00:01:35,520
和重量级社交分享平台

39
00:01:35,520 --> 00:01:37,680
自2009年上线后

40
00:01:37,680 --> 00:01:40,520
用户数量和微博数量都从0开启

41
00:01:40,520 --> 00:01:41,800
并高速增长

42
00:01:41,800 --> 00:01:43,320
到2019年

43
00:01:43,320 --> 00:01:45,320
日活跃用户已超2亿

44
00:01:45,320 --> 00:01:47,440
每日新发费的1-2亿

45
00:01:47,440 --> 00:01:49,600
每日访问量百亿集

46
00:01:49,600 --> 00:01:51,880
历史数据高达千亿集

47
00:01:51,880 --> 00:01:52,720
同时

48
00:01:52,720 --> 00:01:54,400
在微博的日常服务中

49
00:01:54,400 --> 00:01:57,320
核心接口可用性要达到4.9

50
00:01:57,320 --> 00:01:59,920
响应时间在10-60毫秒以内

51
00:01:59,920 --> 00:02:01,920
核心单个业务的数据访问量

52
00:02:01,920 --> 00:02:03,920
高达百万集QPS

53
00:02:03,920 --> 00:02:06,320
所有这些数据都是靠良好的架构

54
00:02:06,320 --> 00:02:09,520
且不断改进的缓存体系来支撑的

55
00:02:09,520 --> 00:02:11,440
其实作为互联网公司

56
00:02:11,440 --> 00:02:13,840
只要有直接面对用户的业务

57
00:02:13,840 --> 00:02:17,160
要想持续确保系统的访问性能和可用性

58
00:02:17,160 --> 00:02:18,640
都需要使用缓存

59
00:02:18,640 --> 00:02:21,760
因此缓存也是后端工程师面试的一个

60
00:02:21,760 --> 00:02:23,640
非常重要的考量点

61
00:02:23,640 --> 00:02:27,520
面试官通常会通过应聘者对缓存相关知识的

62
00:02:27,520 --> 00:02:28,720
理解深入程度

63
00:02:28,720 --> 00:02:31,520
来判断其开发经验和学习能力

64
00:02:31,520 --> 00:02:34,040
可以说对缓存的掌握程度

65
00:02:34,040 --> 00:02:37,520
在某种意义上决定了后端开发者的职业高度

66
00:02:37,520 --> 00:02:39,200
那么想学好缓存

67
00:02:39,200 --> 00:02:40,720
需要掌握哪些知识呢

68
00:02:40,720 --> 00:02:43,720
可以看一下这张缓存知识点全景图

69
00:02:43,720 --> 00:02:46,920
首先要熟练掌握缓存的基础知识

70
00:02:46,920 --> 00:02:48,520
了解缓存原理

71
00:02:48,520 --> 00:02:49,520
基本思想

72
00:02:49,520 --> 00:02:50,440
常用的分类

73
00:02:50,440 --> 00:02:51,440
读写模式等

74
00:02:51,440 --> 00:02:55,440
熟悉缓存的七大经典问题及解决应对之策

75
00:02:55,440 --> 00:02:58,640
需要从缓存组件的访问协议Client入手

76
00:02:58,640 --> 00:03:01,640
熟练掌握如何访问各种缓存组件

77
00:03:01,640 --> 00:03:03,840
如Memcached Redis PICA等

78
00:03:03,840 --> 00:03:08,440
其次要尽可能深入理解缓存组件的实现方案

79
00:03:08,440 --> 00:03:09,440
设计原理

80
00:03:09,440 --> 00:03:12,640
了解缓存的各种特性优势和不足

81
00:03:12,640 --> 00:03:15,840
这样在缓存数据与预期不一致时

82
00:03:15,840 --> 00:03:18,040
能快速定位并解决问题

83
00:03:18,040 --> 00:03:23,840
在此还要多了解线上大中型系统是如何对缓存进行架构设计的

84
00:03:23,840 --> 00:03:26,440
线上系统业务功能复杂多变

85
00:03:26,440 --> 00:03:28,240
跨域部署环境复杂

86
00:03:28,240 --> 00:03:29,640
而且热点频发

87
00:03:29,640 --> 00:03:31,040
用户习惯迥异

88
00:03:31,040 --> 00:03:35,440
因此缓存系统在设计之初就要尽量的进行良好设计

89
00:03:35,440 --> 00:03:38,040
规划好如何进行卡信息分布

90
00:03:38,040 --> 00:03:40,040
如何保障数据的一致性

91
00:03:40,040 --> 00:03:42,040
如何进行扩容和缩容

92
00:03:42,040 --> 00:03:46,440
当然缓存体系也需要伴随业务发展持续演进

93
00:03:46,440 --> 00:03:49,440
这就需要对缓存体系进行持续的状态监控

94
00:03:49,440 --> 00:03:50,340
异常报警

95
00:03:50,340 --> 00:03:51,440
故障演练

96
00:03:51,440 --> 00:03:55,940
以确保在故障发生时能及时进行人肉和自动化运维处理

97
00:03:55,940 --> 00:03:59,840
并根据线上状况不断进行优化和改进

98
00:03:59,840 --> 00:04:03,140
最后了解缓存在各种场景下的最佳实践

99
00:04:03,140 --> 00:04:05,340
理解这些最佳实践背后的tradeoff

100
00:04:05,340 --> 00:04:07,440
做到知其然知其所以然

101
00:04:07,440 --> 00:04:09,940
愿在实际工作中能举一反三

102
00:04:09,940 --> 00:04:13,740
把知识和经验更好的应用到工作实践中来

103
00:04:13,740 --> 00:04:16,240
这些缓存知识网上学习资料很多

104
00:04:16,240 --> 00:04:18,440
但过于零散和重复

105
00:04:18,440 --> 00:04:19,840
要想系统的学习

106
00:04:19,840 --> 00:04:22,640
还是需要通过阅读缓存相关的书

107
00:04:22,640 --> 00:04:24,740
论文和缓存源码

108
00:04:24,740 --> 00:04:27,940
或是学习一些来自实战总结的网络课程

109
00:04:27,940 --> 00:04:31,640
但前面这种形式目前都需要花费较多时间

110
00:04:31,640 --> 00:04:35,940
为了学员既系统又快速的获取所需知识

111
00:04:35,940 --> 00:04:41,040
拉钩教育推出了300分钟学会系列技术课缓存课由我来讲

112
00:04:41,040 --> 00:04:42,040
在这300分钟里

113
00:04:42,040 --> 00:04:47,040
我将结合自己在微博平台的缓存架构经验分10课时分享

114
00:04:47,040 --> 00:04:49,940
如何更好的引入和使用缓存

115
00:04:49,940 --> 00:04:51,240
自系统架构之初

116
00:04:51,240 --> 00:04:54,240
就把缓存设计的关键点对号入座

117
00:04:54,240 --> 00:04:57,940
如何规避并解决缓存设计中的七大经典问题

118
00:04:57,940 --> 00:04:58,840
从协议

119
00:04:58,840 --> 00:04:59,740
使用技巧

120
00:04:59,740 --> 00:05:00,840
网络模型

121
00:05:00,840 --> 00:05:02,040
核心数据结构

122
00:05:02,040 --> 00:05:03,240
存储架构

123
00:05:03,240 --> 00:05:04,640
数据处理模型

124
00:05:04,640 --> 00:05:06,540
优化及改进方案等

125
00:05:06,540 --> 00:05:08,240
多角度全方位

126
00:05:08,240 --> 00:05:09,940
深入剖析互联网企业

127
00:05:09,940 --> 00:05:14,040
大量使用的Memcached Redis等开源缓存组件

128
00:05:14,040 --> 00:05:18,840
教你如何利用它们构建一个分布式缓存服务体系

129
00:05:18,840 --> 00:05:20,940
最后我将结合诸如秒杀

130
00:05:20,940 --> 00:05:21,740
海量技术

131
00:05:21,740 --> 00:05:24,540
微博废的聚合等经典业务场景

132
00:05:24,540 --> 00:05:27,040
分析如何构建相应的高可用

133
00:05:27,040 --> 00:05:27,840
高性能

134
00:05:27,840 --> 00:05:29,940
宜扩展的缓存架构体系

135
00:05:29,940 --> 00:05:30,840
通过本课程

136
00:05:30,840 --> 00:05:35,040
你可以系统的学习缓存之设计架构的关键知识点

137
00:05:35,040 --> 00:05:38,540
如何更好的使用Memcached Redis等缓存组件

138
00:05:38,540 --> 00:05:41,740
并对这些缓存组件的内部架构设计原理

139
00:05:41,740 --> 00:05:43,740
有一个较为深入的了解

140
00:05:43,740 --> 00:05:44,940
真正做到知其人

141
00:05:44,940 --> 00:05:46,340
跟知其所以然

142
00:05:46,340 --> 00:05:50,740
可以学会如何根据业务需要对缓存组件进行二次开发

143
00:05:50,740 --> 00:05:55,140
可以搞懂如何构建一个大型的分布式缓存服务系统

144
00:05:55,140 --> 00:06:00,740
还可以了解在当前多种热门场景下缓存服务的最佳实践

145
00:06:00,740 --> 00:06:02,440
如果坚持学完整个课程

146
00:06:02,440 --> 00:06:04,740
相信你还可以现学现用

147
00:06:04,740 --> 00:06:09,540
针对互联网大中型系统构建出一个更好的缓存架构体系

148
00:06:09,540 --> 00:06:13,040
在大幅提升系统通途和响应性能的同时

149
00:06:13,040 --> 00:06:14,940
达到高可用高扩展

150
00:06:14,940 --> 00:06:19,440
从而可以更从容的应对海量兵法请求和极端热点事件

151
00:06:19,440 --> 00:06:20,340
谢谢大家收看

152
00:06:20,340 --> 00:06:21,140
我们下期再见
